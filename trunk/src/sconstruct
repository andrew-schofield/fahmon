env     = Environment()
debug   = ARGUMENTS.get('debug', 0)
target  = 'fahmon'

sources = ['aboutDialog.cpp',
           'base64Codec.cpp',
           'benchmark.cpp',
           'benchmarksDialog.cpp',
           'benchmarksManager.cpp',
           'client.cpp',
           'clientDialog.cpp',
           'clientHelperThread.cpp',
           'clientsManager.cpp',
           'core.cpp',
           'dataInputStream.cpp',
           'dataOutputStream.cpp',
           'eta.cpp',
           'fahlogAnalyzer.cpp',
           'firstTimeDialog.cpp',
           'htmlParser.cpp',
           'httpDownloader.cpp',
           'listViewClients.cpp',
           'main.cpp',
           'mainDialog.cpp',
           'messagesFrame.cpp',
           'messagesManager.cpp',
           'pathManager.cpp',
           'preference.cpp',
           'preferencesDialog.cpp',
           'preferencesManager.cpp',
           'progressManager.cpp',
           'project.cpp',
           'projectHelperThread.cpp',
           'projectsManager.cpp',
           'staticBoldedText.cpp',
           'staticUrl.cpp',
           'tools.cpp',
           'trayManager.cpp',
           'workUnitFrame.cpp'
          ]

if int(debug):
    env.ParseConfig( 'wx-config --cxxflags --libs --debug=yes' )
    env.Append( CXXFLAGS='-g -O0' )
else:
    env.ParseConfig( 'wx-config --cxxflags --libs --debug=no' )
    env.Append( CXXFLAGS='-O2' )

env.Append( CXXFLAGS = '-D_FAHMON_LINUX_ -Wall' )
env.Append( CPPPATH = '../include' )

env.Program(target, sources)
